{"title":"","author":"jdotpz","content":"#Loggins - *This is it!*\n\nLast week, [Cade](https://twitter.com/ChrisDeCairos) and I attended training in San Francisco for the ELK Stack:  Elasticsearch, Logstash, Kibana.  For a one day class, it was surprisingly chock full of good info.\n\nImmediately, we started reworking our precious Loggins server.  First, I made what is basically an autoscaling (up to 5 nodes) fleet of high memory(30gb) large EC2 nodes with fast 1000pIOps disk for data.  \n\nUsing the [AWS Cloud Plugin](https://github.com/elasticsearch/elasticsearch-cloud-aws), a read-only-for-EC2 IAM role used for these servers, and a config telling all of these servers to come up and search their specific security group for other cluster members.\n\n## So....how's it going?\n\nFirst, lets see what we've been looking at.\n\n### A seven day set of logs colored by app/env (count of logs)\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/kibana-few-days-all-app-logs.JPG \"All apps\")\n\n\n### Seven days of app logs.\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/kibana-7day-app.JPG \"7 Day badgekit\")\n\n### Realtime puppet events / deploys\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/kibana-realtime-puppet.JPG \"Deployments\")\n\n\n## So how is it holding up so far with ~25 million messages in it?\n\nWell, we just got [Marvel](http://www.elasticsearch.org/overview/marvel/) licensed for this cluster, so we can watch our health and activity.\n\n\n### How are the servers holding up overall?\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/marvel-stats2.JPG \"Overall\")\n\n\n### Hmmm, what else?\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/marvel-stats1.JPG \"Overall\")\n\n\n### How are the shards balancing out?\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/marvel-shard-allocation.JPG \"Overall\")\n\nThat is neat, yeah...but the ability to play back events is awesome!  Here you'll see the shards fly around as I provision and decomission ES servers:\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/moving-es-servers-live.gif \"I did not even do any of it\")\n\n\n## Here are a couple other animated gifs I made to teach people how to use the new features.\n\n\n### Viewing 500's\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/kibana-demo-view-all-apps-500s.gif \"500's\")\n\n\n### Some info on browser/version in logs\n\n![alt text](https://dl.dropboxusercontent.com/u/2273146/kibana-report-for-just-firefox-webmaker.gif \"I did not even do any of it\")\n\n","tags":["elk","elasticsearch","logging","metrics","monitoring","devops"],"published":1403069616535,"updated":1403069633325}